<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marta &amp; Jakub - Wedding Invitation</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Playfair+Display:wght@400;600;700&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet">
	<script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
	<style>
        :root {
            --primary: #f8f4f0;
            --secondary: #e8c5a0;
            --accent: #d4af37;
            --text-dark: #5a5a5a;
            --text-light: #ffffff;
            --romantic-pink: #f7e7e1;
            --soft-gold: #f4e4bc;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Crimson Text', serif;
            line-height: 1.6;
            color: var(--text-dark);
            overflow-x: hidden;
            background: linear-gradient(135deg, var(--primary) 0%, var(--romantic-pink) 50%, var(--soft-gold) 100%);
        }
		.code-modal {
		  transition: opacity 0.8s;
		  opacity: 1;
		}
		.code-modal.fade-out {
		  opacity: 0;
		  pointer-events: none;
		}

		.main-content {
		  transition: opacity 1s;
		  opacity: 0;
		}
		.main-content.fade-in {
		  opacity: 1;
		}
        /* Falling Petals Animation */
        .petals {
            position: fixed;
            top: -100px;
            left: 0;
            width: 100%;
            height: 100vh;
            pointer-events: none;
            z-index: 1000;
            overflow: hidden;
        }

        .petal {
            position: absolute;
            background: #ffb3c1;
            border-radius: 50% 50% 50% 0;
            opacity: 0.8;
            animation: fall linear infinite;
        }

        .petal:nth-child(odd) {
            background: #ffc0cb;
            border-radius: 50% 0 50% 50%;
        }

        .petal:nth-child(3n) {
            background: var(--accent);
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Loading Animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--romantic-pink), var(--soft-gold));
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 1s ease-out;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .heart {
            width: 50px;
            height: 45px;
            position: relative;
            animation: heartbeat 1.5s infinite;
        }

        .heart:before,
        .heart:after {
            content: '';
            width: 26px;
            height: 40px;
            position: absolute;
            left: 25px;
            top: 0;
            background: var(--accent);
            border-radius: 25px 25px 0 0;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }

        .heart:after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(248, 244, 240, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 15px 20px;
            transition: all 0.3s ease;
        }

        nav.scrolled {
            background: rgba(248, 244, 240, 0.98);
            box-shadow: 0 2px 20px var(--shadow);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 30px;
        }

        /* Language Toggle */
        .language-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .lang-btn {
            background: none;
            border: none;
            color: var(--text-dark);
            cursor: pointer;
            padding: 5px 8px;
            border-radius: 4px;
            transition: all 0.3s ease;
            font-weight: 500;
            font-family: inherit;
        }

        .lang-btn:hover {
            color: var(--accent);
            background: rgba(212, 175, 55, 0.1);
        }

        .lang-btn.active {
            color: var(--accent);
            font-weight: 600;
        }

        .lang-separator {
            color: var(--text-dark);
            opacity: 0.5;
        }

        nav a {
            color: var(--text-dark);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
            position: relative;
        }

        nav a:hover {
            color: var(--accent);
        }

        nav a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 50%;
            background: var(--accent);
            transition: all 0.3s ease;
        }

        nav a:hover:after {
            width: 100%;
            left: 0;
        }

        /* Sections */
        section {
            min-height: 100vh;
            padding: 100px 20px 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 2;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            text-align: center;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--romantic-pink) 0%, var(--soft-gold) 100%);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="hearts" patternUnits="userSpaceOnUse" width="20" height="20"><path d="M10,5 C5,0 0,5 0,10 C0,15 10,25 10,25 C10,25 20,15 20,10 C20,5 15,0 10,5 Z" fill="%23d4af37" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23hearts)"/></svg>') center/200px;
            opacity: 0.1;
        }

        .hero-content {
            position: relative;
            z-index: 3;
        }

        .couple-names {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 20px rgba(212, 175, 55, 0.5); }
            to { text-shadow: 0 0 30px rgba(212, 175, 55, 0.8), 0 0 40px rgba(212, 175, 55, 0.3); }
        }

        .wedding-date {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 30px;
        }

        .invitation-text {
            font-size: 1.5rem;
            color: var(--text-dark);
            font-style: italic;
            margin-bottom: 40px;
        }

        .scroll-hint {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--accent);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        /* Fade-in Animation */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Details Section */
        .details {
            background: var(--primary);
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 50px;
        }

        .detail-card {
            background: white;
            padding: 40px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .detail-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px var(--shadow);
        }

        .detail-icon {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 20px;
        }

        .detail-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-dark);
        }

        .detail-info {
            color: var(--text-dark);
            line-height: 1.8;
        }

        /* Story Section */
        .story {
            background: linear-gradient(135deg, var(--soft-gold) 0%, var(--romantic-pink) 100%);
        }

        .story-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .story-text {
            font-size: 1.3rem;
            line-height: 2;
            color: var(--text-dark);
            font-style: italic;
            margin-bottom: 40px;
        }

        .quote {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: var(--accent);
            text-align: center;
            margin: 40px 0;
        }

        /* RSVP Section */
        .rsvp {
            background: var(--primary);
        }

        .rsvp-form {
            max-width: 600px;
            margin: 50px auto 0;
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 15px 35px var(--shadow);
        }

        .form-group {
            margin-bottom: 25px;
            text-align: left;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
        }

        .form-control {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e1e1;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            font-family: 'Crimson Text', serif;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .radio-item input[type="radio"] {
            width: 20px;
            height: 20px;
            accent-color: var(--accent);
        }

        .btn {
            background: linear-gradient(135deg, var(--accent), #e6c965);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .error {
            color: #e74c3c;
            font-size: 0.9rem;
            margin-top: 5px;
            display: none;
        }

        .success-message {
            background: #2ecc71;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        /* Footer */
        footer {
            background: var(--text-dark);
            color: var(--text-light);
            padding: 50px 20px;
            text-align: center;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-text {
            font-size: 1.2rem;
            margin-bottom: 30px;
            font-style: italic;
        }

        .contact-info {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Section Titles */
        .section-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            font-weight: 600;
            color: var(--accent);
            margin-bottom: 30px;
            text-shadow: 0 2px 4px var(--shadow);
        }

        .section-subtitle {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: var(--text-dark);
            margin-bottom: 40px;
            font-style: italic;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .couple-names {
                font-size: 2.5rem;
            }

            .wedding-date {
                font-size: 1.5rem;
            }

            .invitation-text {
                font-size: 1.2rem;
            }

            .nav-container {
                flex-direction: column;
                gap: 10px;
            }
            
            nav ul {
                gap: 15px;
                font-size: 0.9rem;
            }
            
            .language-toggle {
                font-size: 0.8rem;
            }

            .details-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .rsvp-form {
                padding: 30px 20px;
                margin: 30px 20px 0;
            }

            .radio-group {
                flex-direction: column;
                gap: 10px;
            }

            .contact-info {
                flex-direction: column;
                gap: 20px;
            }

            section {
                padding: 80px 15px 30px;
            }
        }

        /* Floating decorative elements */
        .floating-heart {
            position: absolute;
            color: var(--accent);
            font-size: 2rem;
            animation: float 6s ease-in-out infinite;
            opacity: 0.3;
        }

        .floating-heart:nth-child(1) {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .floating-heart:nth-child(2) {
            top: 60%;
            right: 10%;
            animation-delay: 2s;
        }

        .floating-heart:nth-child(3) {
            bottom: 30%;
            left: 15%;
            animation-delay: 4s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }
		.code-modal {
		  position: fixed;
		  top: 0; left: 0; width: 100vw; height: 100vh;
		  background: linear-gradient(135deg, var(--romantic-pink) 0%, var(--soft-gold) 100%);
		  display: flex; justify-content: center; align-items: center;
		  z-index: 999;
		  transition: opacity 0.5s;
		}
		
		.code-modal-content {
		  background: #fff;
		  padding: 40px 32px;
		  border-radius: 22px;
		  box-shadow: 0 8px 36px var(--shadow), 0 1.5px 0 var(--accent);
		  max-width: 350px;
		  width: 100%;
		  text-align: center;
		  font-family: 'Playfair Display', serif;
		}
		
		.code-modal-content h2 {
		  font-family: 'Dancing Script', cursive;
		  font-size: 2.2rem;
		  color: var(--accent);
		  text-shadow: 0 2px 12px var(--soft-gold);
		  margin-bottom: 22px;
		}
		
		.code-modal-content input {
		  width: 85%;
		  padding: 14px 10px;
		  border: 2px solid var(--secondary);
		  border-radius: 10px;
		  font-size: 1.05rem;
		  margin-bottom: 20px;
		  transition: border-color 0.3s, box-shadow 0.3s;
		  background: var(--primary);
		  color: var(--text-dark);
		  font-family: 'Crimson Text', serif;
		}
		
		.code-modal-content input:focus {
		  border-color: var(--accent);
		  box-shadow: 0 0 0 2px rgba(212,175,55,0.15);
		  outline: none;
		}
		
		#validateCodeBtn {
		  background: linear-gradient(135deg, var(--accent), #e6c965);
		  color: #fff;
		  padding: 12px 38px;
		  border: none;
		  border-radius: 24px;
		  font-size: 1.1rem;
		  font-weight: 600;
		  box-shadow: 0 3px 15px rgba(212,175,55,.25);
		  cursor: pointer;
		  margin-bottom: 6px;
		  transition: background 0.3s, box-shadow 0.3s;
		}
		
		#validateCodeBtn:hover {
		  background: linear-gradient(135deg, #e8c5a0, var(--accent));
		  box-shadow: 0 6px 21px rgba(212,175,55,0.28);
		}
		
		#codeError {
		  color: #e74c3c;
		  font-size: 1rem;
		  margin-top: 10px;
		  letter-spacing: 0.2px;
		  font-family: 'Crimson Text', serif;
		}
		body.validate-code nav,
body.validate-code section,
body.validate-code footer,
body.validate-code .petals {
  display: none !important;
}
body.validate-code #codeModal {
  display: flex !important;
}
/* Bingo Section Styles */
.bingo-section {
  padding: 80px 20px;
  background: linear-gradient(135deg, var(--primary) 0%, var(--romantic-pink) 100%);
}

.bingo-section h2 {
  font-family: 'Dancing Script', cursive;
  font-size: 3rem;
  color: var(--accent);
  text-align: center;
  margin-bottom: 10px;
  text-shadow: 0 2px 15px var(--soft-gold);
}

.bingo-section > .container > p {
  text-align: center;
  font-size: 1.2rem;
  color: var(--text-dark);
  margin-bottom: 40px;
}

.bingo-instructions {
  max-width: 700px;
  margin: 0 auto 40px;
  background: rgba(255,255,255,0.9);
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 5px 20px var(--shadow);
}

.bingo-instructions h3 {
  font-family: 'Playfair Display', serif;
  color: var(--accent);
  margin-bottom: 15px;
  font-size: 1.5rem;
}

.bingo-instructions ol {
  padding-left: 25px;
  line-height: 1.8;
}

.bingo-card-container {
  display: flex;
  justify-content: center;
  margin: 40px 0;
}

.bingo-card {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 8px;
  max-width: 600px;
  width: 100%;
  background: #fff;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 8px 30px var(--shadow);
}

.bingo-cell {
  aspect-ratio: 1;
  background: var(--primary);
  border: 2px solid var(--secondary);
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 8px;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
}

.bingo-cell:hover {
  background: var(--romantic-pink);
  transform: scale(1.05);
  border-color: var(--accent);
}

.bingo-cell.marked {
  background: var(--accent);
  color: white;
  font-weight: bold;
  border-color: #c9960e;
}

.bingo-cell.marked::after {
  content: "✓";
  position: absolute;
  font-size: 2rem;
  color: rgba(255,255,255,0.7);
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.bingo-cell.free {
  background: var(--soft-gold);
  font-weight: bold;
  cursor: default;
}

.bingo-controls {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin: 30px 0;
}

.btn-secondary {
  background: var(--secondary);
  color: var(--text-dark);
  padding: 12px 30px;
  border: none;
  border-radius: 25px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.btn-secondary:hover {
  background: #d9af7a;
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

.btn-primary {
  background: linear-gradient(135deg, var(--accent), #e6c965);
  color: white;
  padding: 12px 30px;
  border: none;
  border-radius: 25px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 4px 15px rgba(212,175,55,0.3);
}

.btn-primary:hover {
  background: linear-gradient(135deg, #e6c965, var(--accent));
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(212,175,55,0.4);
}

.bingo-win-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99999 !important;
  animation: fadeIn 0.5s;
}

.bingo-win-content {
  background: white;
  padding: 50px 40px;
  border-radius: 20px;
  text-align: center;
  max-width: 500px;
  animation: bounceIn 0.6s;
  box-shadow: 0 10px 50px rgba(212,175,55,0.5);
}

.bingo-win-content h2 {
  font-size: 2.5rem;
  color: var(--accent);
  margin-bottom: 20px;
  animation: pulse 1s infinite;
}

.bingo-gallery {
  max-width: 900px;
  margin: 60px auto 0;
  background: rgba(255,255,255,0.9);
  padding: 40px;
  border-radius: 15px;
  box-shadow: 0 5px 20px var(--shadow);
}

.bingo-gallery h3 {
  font-family: 'Playfair Display', serif;
  color: var(--accent);
  text-align: center;
  margin-bottom: 10px;
  font-size: 1.8rem;
}

.bingo-gallery-subtitle {
  text-align: center;
  color: var(--text-dark);
  margin-bottom: 30px;
}

#uploadSection {
  text-align: center;
  margin-bottom: 30px;
}

.btn-upload {
  display: inline-block;
  background: linear-gradient(135deg, var(--accent), #e6c965);
  color: white;
  padding: 15px 35px;
  border-radius: 30px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 4px 15px rgba(212,175,55,0.3);
}

.btn-upload:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 25px rgba(212,175,55,0.4);
}

.photo-gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 15px;
  margin-top: 20px;
}

.gallery-photo {
  position: relative;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 3px 10px rgba(0,0,0,0.2);
  transition: transform 0.3s;
}

.gallery-photo:hover {
  transform: scale(1.05);
}

.gallery-photo img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes bounceIn {
  0% { transform: scale(0.3); opacity: 0; }
  50% { transform: scale(1.05); }
  70% { transform: scale(0.9); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .bingo-card {
    gap: 5px;
    padding: 15px;
  }

  .bingo-cell {
    font-size: 0.7rem;
    padding: 5px;
  }

  .bingo-section h2 {
    font-size: 2rem;
  }

  .photo-gallery-grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  }
}

    </style>
	<script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
	</script>
	<script type="text/javascript">
	   (function(){
		  emailjs.init({
			publicKey: "MmXQul_uJJvS260l9",
		  });
	   })();
	</script>
</head>
<body>

<!-- Falling Petals -->
    <div class="petals" id="petals"></div>

	<!-- Loading Animation -->
    <div class="loading" id="loading">
        <div class="heart"></div>
    </div>
	<!-- Codes -->
	<div class="code-modal" id="codeModal" style="display:none;">

	  <div class="code-modal-content">
	  	   <div class="language-toggle" style="display: flex; justify-content:center;">
                <button id="langEn" class="lang-btn active" onclick="switchLanguage('en')">EN</button>
                <span class="lang-separator">|</span>
                <button id="langPl" class="lang-btn" onclick="switchLanguage('pl')">PL</button>
            </div>
	    <h2>Please enter your invitation code</h2>
	    <input type="text" id="inviteCodeInput" placeholder="Invitation Code" autocomplete="off" />
	    <button id="validateCodeBtn">Submit</button>
	    <div id="codeError" style="color:#c00;display:none;">Invalid code. Please try again.</div>
	  </div>
	</div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <ul>
                <li><a href="#hero" data-translate="nav_home">Home</a></li>
                <li><a href="#details" data-translate="nav_details">Details</a></li>
                <li><a href="#story" data-translate="nav_story">Our Story</a></li>
                <li><a href="#rsvp" data-translate="nav_rsvp">RSVP</a></li>
				<li><a href="#bingo" data-translate="nav_bingo">Wedding Bingo</a></li>
            </ul>
            <div class="language-toggle">
                <button id="langEn" class="lang-btn active" onclick="switchLanguage('en')">EN</button>
                <span class="lang-separator">|</span>
                <button id="langPl" class="lang-btn" onclick="switchLanguage('pl')">PL</button>
            </div>
        </div>
    </nav>
<div class="main-content">
    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="floating-heart">💕</div>
        <div class="floating-heart">💖</div>
        <div class="floating-heart">💗</div>
        
        <div class="container">
            <div class="hero-content fade-in">
                <h1 class="couple-names" data-translate="couple_names">Marta &amp; Jakub</h1>
                <p class="wedding-date" data-translate="wedding_date">August 08th, 2026</p>
                <p class="invitation-text" data-translate="youre_invited">You're cordially invited to celebrate our special day</p>
            </div>
        </div>
        <div class="scroll-hint">
            <span>👇🏼 💝 👇🏼</span>
        </div>
    </section>

    <!-- Wedding Details Section -->
    <section id="details" class="details">
        <div class="container">
            <h2 class="section-title fade-in" data-translate="wedding_details">Wedding Details</h2>
            <p class="section-subtitle fade-in" data-translate="details_subtitle">All the important information for our special day</p>
            
            <div class="details-grid">
                <div class="detail-card fade-in">
                    <div class="detail-icon">⛪</div>
                    <h3 class="detail-title" data-translate="ceremony">Ceremony</h3>
                    <div class="detail-info">
                        <strong data-translate="ceremony_venue">Oliwa Cathedral</strong><br>
                        <span data-translate="ceremony_address">Oliwa<br>Gdansk, Poland</span><br>
                        <strong data-translate="ceremony_time">When? Time yet to be announced</strong>
                    </div>
                </div>
                
                <div class="detail-card fade-in">
                    <div class="detail-icon">🥂</div>
                    <h3 class="detail-title" data-translate="reception">Reception</h3>
                    <div class="detail-info">
                        <strong data-translate="reception_venue">Tabun</strong><br>
                        <span data-translate="reception_address">Konna 29<br>80-174 Otomin, Poland</span><br>
                        <strong data-translate="reception_time">4:00 PM</strong>
                    </div>
                </div>
                
                <div class="detail-card fade-in">
                    <div class="detail-icon">👔</div>
                    <h3 class="detail-title" data-translate="dress_code">Dress Code</h3>
                    <div class="detail-info">
                        <strong data-translate="dress_code_formal">Formal Attire</strong><br>
                        <span data-translate="dress_code_description">We kindly request formal attire.<br>Ladies: cocktail dress or gown<br>Gentlemen: suit or tuxedo</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Our Story Section -->
    <section id="story" class="story">
        <div class="container">
            <h2 class="section-title fade-in" data-translate="our_story">Our Love Story</h2>
            
            <div class="story-content fade-in">
                <p class="story-text" data-translate="story_text">
                    Hi! We met on the very casual day like it is many in daily life. Something went different that day as we stand by each other as best friends, soulmates and now husband and wife.
                </p>
                
                <div class="quote" data-translate="love_quote">
                    "Love is not just looking at each other, it's looking in the same direction together."
                </div>
            </div>
        </div>
    </section>
	<section id="bingo" class="bingo-section">
	  <div class="container">
		<h2 data-translate="bingo_title">Wedding Bingo Challenge</h2>
		<p data-translate="bingo_subtitle">Capture moments, mark your card, and win prizes!</p>

		<div class="bingo-instructions">
		  <h3 data-translate="bingo_how_to_play">How to Play</h3>
		  <ol>
			<li data-translate="bingo_rule_1">Mark squares when you witness or complete the event</li>
			<li data-translate="bingo_rule_2">Get 5 in a row (horizontal, vertical, or diagonal) to win!</li>
			<li data-translate="bingo_rule_3">Optional: Take photos to prove your Bingo and share memories</li>
		  </ol>
		</div>

		<div class="bingo-card-container">
		  <div id="bingoCard" class="bingo-card"></div>
		</div>

		<div class="bingo-controls">
		  <button id="resetBingo" class="btn-secondary" data-translate="bingo_reset">Reset Card</button>
		  <button id="newBingo" class="btn-primary" data-translate="bingo_new_card">New Card</button>
		</div>

		<div id="bingoWinModal" class="bingo-win-modal" style="display:none;">
		  <div class="bingo-win-content">
			<h2 data-translate="bingo_congrats">🎉 BINGO! 🎉</h2>
			<p data-translate="bingo_winner_message">Congratulations! Show this to the newlyweds for your prize!</p>
			<p data-translate="bingo_winner_message">Gratulacje! Pokaż to młodej parze!</p>
			<button id="closeBingoWin" class="btn-primary" data-translate="bingo_close">Close</button>
		  </div>
		</div>

		<div class="bingo-gallery">
		  <h3 data-translate="bingo_gallery_title">Photo Gallery</h3>
		  <p class="bingo-gallery-subtitle" data-translate="bingo_gallery_subtitle">Upload photos of your Bingo moments!</p>
			<div id="uploadSection">
			  <button id="photoUpload" class="btn-upload" data-translate="bingo_upload_photo">📸 Upload Photo</button>
			</div>
		  <div id="photoGallery" class="photo-gallery-grid"></div>
		</div>
	  </div>
	</section>
    <!-- RSVP Section -->
    <section id="rsvp" class="rsvp">
        <div class="container">
            <h2 class="section-title fade-in" data-translate="rsvp">RSVP</h2>
            <p class="section-subtitle fade-in" data-translate="rsvp_deadline">Please respond by <b>April 1st, 2026</b></p>
            
            <form class="rsvp-form fade-in" id="rsvpForm">
                <div class="form-group">
                    <label class="form-label" for="guestName" data-translate="guest_names">Guest Name(s) *</label>
                    <input type="text" id="guestName" name="guestName" class="form-control" required>
                    <div class="error" id="guestNameError" data-translate="error_name">Please enter your name(s)</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="email" data-translate="email_address">Email Address *</label>
                    <input type="email" id="email" name="email" class="form-control" required>
                    <div class="error" id="emailError" data-translate="error_email">Please enter a valid email address</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-translate="will_attend">Will you be attending? *</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="attendingYes" name="attending" value="TAK" required>
                            <label for="attendingYes" data-translate="yes_attending">Yes, I'll be there! 💕</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="attendingNo" name="attending" value="NIE" required>
                            <label for="attendingNo" data-translate="no_attending">Sorry, can't make it 😢</label>
                        </div>
                    </div>
                    <div class="error" id="attendingError" data-translate="error_attendance">Please select your attendance</div>
                </div>
                
				<div class="form-group">
                    <label class="form-label" data-translate="will_attend_1">Will you be with your +1 *</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="attendingYes" name="attending_1" value="TAK" required>
                            <label for="attendingYes_1" data-translate="yes_attending_1">YES, bringing my partner in crime</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="attendingNo" name="attending_1" value="NIE" required>
                            <label for="attendingNo_1" data-translate="no_attending_1">No, flying solo tonight!</label>
                        </div>
                    </div>
                    <div class="error" id="attendingError" data-translate="error_attendance_1">Please select your answer on +1</div>
                </div>
				                
                <div class="form-group">
                    <label class="form-label" for="dietary" data-translate="dietary_restrictions">Dietary Restrictions</label>
                    <textarea id="dietary" name="dietary" class="form-control" rows="3" data-translate-placeholder="dietary_placeholder"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="message" data-translate="special_message">Special Message (Optional)</label>
                    <textarea id="message" name="message" class="form-control" rows="4" data-translate-placeholder="message_placeholder"></textarea>
                </div>
                
                <button type="submit" class="btn" data-translate="send_rsvp">Send RSVP 💌</button>
                
                <div class="success-message" id="successMessage" data-translate="thank_you_rsvp">
                    Thank you for your RSVP! We're so excited to celebrate with you! 💕
                </div>
            </form>
        </div>
    </section>
</div>
    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <p class="footer-text" data-translate="footer_message">
                "Thank you for being part of our special day"
            </p>
            
            <div class="contact-info">
                <div class="contact-item">
                    <span>📧</span>
                    <span>080826.wesele@gmail.com</span>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Language Translations
        const translations = {
            en: {
                // Navigation
                nav_home: 'Home',
                nav_details: 'Details',
                nav_story: 'Our Story',
                nav_rsvp: 'RSVP',
                
                // Hero Section
                couple_names: 'Marta & Jakub',
                wedding_date: 'August 08th, 2026',
                youre_invited: "You're cordially invited to celebrate our special day",
                
                // Details Section
                wedding_details: 'Wedding Details',
                details_subtitle: 'All the important information for our special day',
                ceremony: 'Ceremony',
                reception: 'Wedding Party',
                dress_code: 'Dress Code',
                ceremony_venue: "Oliwa Cathedral",
                ceremony_address: 'Oliwa<br>Gdansk, Poland',
                ceremony_time: 'To be announced',
                reception_venue: 'Tabun',
                reception_address: 'Konna 29<br>80-174 Otomin, Poland',
                reception_time: '4:00 PM',
                dress_code_formal: 'Formal Attire',
                dress_code_description: 'We kindly request formal attire.<br>Ladies: cocktail dress or gown<br>Gentlemen: suit or tuxedo',
                
                // Story Section
                our_story: 'Our Love Story',
                story_text: "Hi! We met on the very casual day like it is many in daily life. Something went different that day as we stand by each other as best friends, soulmates and now husband and wife.",
                love_quote: '"Love is not just looking at each other, it\'s looking in the same direction together."',
            	
				 // Modal z kodami
				modaltitle: "Please enter your invitation code",
			    modalplaceholder: "Invitation Code",
			    modalsubmit: "Submit",
			    modalerror: "Invalid code. Please try again.",
                // RSVP Section
                rsvp: 'RSVP',
                rsvp_deadline: 'Please respond by April 1st, 2026',
                guest_names: 'Guest Name(s) *',
                email_address: 'Email Address *',
                will_attend: 'Will you be attending? *',
				will_attend_1: 'Will you be with your +1 *',
                yes_attending: "Yes, I'll be there! 💕",
                no_attending: "Sorry, can't make it 😢",
				yes_attending_1: "YES, bringing my partner in crime",
				no_attending_1: "No, flying solo tonight!",
                dietary_restrictions: 'Dietary Restrictions',
                special_message: 'Special Message (Optional)',
                send_rsvp: 'Send RSVP 💌',

                // Form Errors
                error_name: 'Please enter your name(s)',
                error_email: 'Please enter a valid email address',
                error_attendance: 'Please select your attendance',
                
                // Placeholders
                dietary_placeholder: 'Please let us know about any allergies or dietary restrictions',
                message_placeholder: 'Share your well wishes or any special message for the happy couple',
                
                // Messages
                thank_you_rsvp: "Thank you for your RSVP! We're so excited to celebrate with you! 💕",
                required_fields: 'Please fill in all required fields',
                
                // Footer
                footer_message: 'Thank you for being part of our special day',
                contact_us: 'Contact us'
            },
            pl: {
                // Navigation
                nav_home: 'Wesele',
                nav_details: 'Szczegóły',
                nav_story: 'Nasza Historia',
                nav_rsvp: 'Potwierdzenie',
                
                // Hero Section
                couple_names: 'Marta i Jakub',
                wedding_date: '08 Sierpnia 2026',
                youre_invited: 'Serdecznie zapraszamy Ciebie na świętowanie naszego wyjątkowego dnia',
                
				//Modal z kodami
				modaltitle: "Wprowadź kod zaproszenia",
			    modalplaceholder: "Kod zaproszenia",
			    modalsubmit: "Wyślij",
			    modalerror: "Niepoprawny kod. Spróbuj ponownie.",
                // Details Section
                wedding_details: 'Szczegóły Ślubu',
                details_subtitle: 'Wszystkie ważne informacje o naszym wyjątkowym dniu',
                ceremony: 'Ceremonia',
                reception: 'Przyjęcie',
                dress_code: 'Dress Code',
                ceremony_venue: 'Katedra Oliwska',
                ceremony_address: 'Oliwa<br>Gdansk, Poland',
                ceremony_time: 'Godzina zostanie podana niedługo',
                reception_venue: 'Tabun',
                reception_address: 'Konna 29<br>80-174 Otomin, Poland',
                reception_time: '16:00',
                dress_code_formal: 'Strój Wizytowy',
                dress_code_description: 'Uprzejmie prosimy o strój wizytowy.<br>Panie: suknia koktajlowa lub wieczorowa<br>Panowie: garnitur lub smoking',
                
                // Story Section
                our_story: 'Nasza Historia',
                story_text: 'Poznaliśmy się w bardzo zwyczajny dzień, jakich wiele w codziennym życiu. Tamtego dnia coś poszło inaczej, ponieważ zostalismy najlepszymi przyjaciółmi, bratnimi duszami, a teraz mężem i żoną.',
                love_quote: '"Miłość to nie tylko patrzenie na siebie, ale patrzenie w tym samym kierunku razem."',
                
                // RSVP Section
                rsvp: 'Potwierdzenie Obecności',
                rsvp_deadline: 'Prosimy o odpowiedź do <b>1 kwietnia 2026</b>',
                guest_names: 'Imię i Nazwisko *',
                email_address: 'Adres Email *',
                will_attend: 'Czy będziesz obecny/obecna? *',
				will_attend_1: 'Czy będziesz z osobą towarzyszącą*',
                yes_attending: 'Tak, będę! 💕',
                no_attending: 'Niestety, nie mogę przyjść 😢',
				yes_attending_1: "TAK, przyjdziemy we dwoje",
				no_attending_1: "Nie, tym razem solo!",
                dietary_restrictions: 'Ograniczenia Dietetyczne',
                special_message: 'Specjalna Wiadomość (Opcjonalnie)',
                send_rsvp: 'Wyślij Potwierdzenie 💌',
                
                
                // Form Errors
                error_name: 'Proszę podać imię i nazwisko',
                error_email: 'Proszę podać prawidłowy adres email',
                error_guests: 'Proszę wybrać liczbę gości',
                error_attendance: 'Proszę wybrać obecność',
                
                // Placeholders
                dietary_placeholder: 'Prosimy poinformować nas o alergiach lub ograniczeniach dietetycznych',
                message_placeholder: 'Podziel się życzeniami lub specjalną wiadomością dla młodej pary',
                
                // Messages
                thank_you_rsvp: 'Dziękujemy za potwierdzenie! Nie możemy się doczekać świętowania z Tobą! 💕',
                required_fields: 'Proszę wypełnić wszystkie wymagane pola',
                
                // Footer
                footer_message: 'Dziękujemy, że jesteście częścią naszego wyjątkowego dnia',
                contact_us: 'Skontaktuj się z nami'
            }
        };
        
        // Current language (default to English)
        let currentLanguage = 'en';
        function updateCodeModalTexts(lang) {
		  document.querySelector('#codeModal h2').innerText = translations[lang].modaltitle;
		  document.getElementById('inviteCodeInput').placeholder = translations[lang].modalplaceholder;
		  document.getElementById('validateCodeBtn').innerText = translations[lang].modalsubmit;
		  document.getElementById('codeError').innerText = translations[lang].modalerror;
		}
        // Language switching function
        function switchLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('lang', lang);
            // Update active language button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById('lang' + lang.charAt(0).toUpperCase() + lang.slice(1)).classList.add('active');
            
            // Update all translatable elements with fade effect
            const elements = document.querySelectorAll('[data-translate]');
            
            elements.forEach(element => {
                element.style.opacity = '0.7';
                element.style.transition = 'opacity 0.3s ease';
            });
            
            setTimeout(() => {
                elements.forEach(element => {
                    const key = element.getAttribute('data-translate');
                    if (translations[lang] && translations[lang][key]) {
                        element.innerHTML = translations[lang][key];
                    }
                });
                
                // Update placeholders
                const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
                placeholderElements.forEach(element => {
                    const key = element.getAttribute('data-translate-placeholder');
                    if (translations[lang] && translations[lang][key]) {
                        element.placeholder = translations[lang][key];
                    }
                });
                
                elements.forEach(element => {
                    element.style.opacity = '1';
                });
            }, 150);
			updateCodeModalTexts(lang);
			if (typeof bingoCard !== 'undefined' && bingoCard.length > 0) {
			  const currentMarked = new Set(markedCells); // Zachowaj zaznaczone pola
			  bingoCard = generateBingoCard(lang);
			  markedCells = currentMarked;
			  renderBingoCard();
			}
			// Odśwież Bingo z nowym językiem
			if (typeof refreshBingo === 'function') {
			  refreshBingo(lang);
			}
        }
        
        // Initialize language on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial placeholders
            document.getElementById('dietary').placeholder = translations[currentLanguage]['dietary_placeholder'];
            document.getElementById('message').placeholder = translations[currentLanguage]['message_placeholder'];
        });
        
        const EMAILJS_SERVICE_ID = 'PLACEHOLDER'; // Replace with your Service ID
        const EMAILJS_TEMPLATE_ID = 'template_nzzzhuy'; // Replace with your Template ID

        // Loading Animation
		window.addEventListener('load', function() {
		  setTimeout(() => {
		    document.getElementById('loading').classList.add('hidden');
		    document.getElementById('codeModal').style.display = 'flex';
		    document.body.classList.add('validate-code');
		    updateCodeModalTexts(currentLanguage);
		  }, 2000);
		
		document.getElementById('validateCodeBtn').onclick = function() {
		  const code = document.getElementById('inviteCodeInput').value.trim();
		  if (validCodes.includes(code)) {
			// Fade out modal
			const modal = document.getElementById('codeModal');
			modal.classList.add('fade-out');
			// Fade in main content po krótkiej przerwie (po modal zniknie)
			setTimeout(() => {
			  modal.style.display = 'none';
			  document.body.classList.remove('validate-code');
			  document.querySelector('.main-content').classList.add('fade-in');
			  createPetals();
			}, 800); // czas taki jak transition w CSS
		  } else {
			document.getElementById('codeError').style.display = 'block';
			updateCodeModal(currentLang);
		  }
		};
		});

        // Create Falling Petals
        function createPetals() {
            const petalsContainer = document.getElementById('petals');
            const petalCount = 50;
            
            for (let i = 0; i < petalCount; i++) {
                setTimeout(() => {
                    createPetal(petalsContainer);
                }, i * 500);
            }
            
            // Continue creating petals
            setInterval(() => {
                createPetal(petalsContainer);
            }, 500);
        }

        function createPetal(container) {
            const petal = document.createElement('div');
            petal.className = 'petal';
            
            // Random properties
            const size = Math.random() * 15 + 10;
            const leftPosition = Math.random() * 100;
            const animationDuration = Math.random() * 3 + 5;
            const delay = Math.random() * 2;
            
            petal.style.width = size + 'px';
            petal.style.height = size + 'px';
            petal.style.left = leftPosition + '%';
            petal.style.animationDuration = animationDuration + 's';
            petal.style.animationDelay = delay + 's';
            
            container.appendChild(petal);
            
            // Remove petal after animation
            setTimeout(() => {
                if (petal.parentNode) {
                    petal.parentNode.removeChild(petal);
                }
            }, (animationDuration + delay) * 1000);
        }

        // Scroll Effects
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 100) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Fade-in Animation on Scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all fade-in elements
        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Form Validation and Submission
        document.getElementById('rsvpForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Clear previous errors
            document.querySelectorAll('.error').forEach(error => {
                error.style.display = 'none';
            });
            
            let isValid = true;
            
            // Validate guest name
            const guestName = document.getElementById('guestName').value.trim();
            if (!guestName) {
                const errorEl = document.getElementById('guestNameError');
                errorEl.textContent = translations[currentLanguage]['error_name'];
                errorEl.style.display = 'block';
                isValid = false;
            }
            
            // Validate email
            const email = document.getElementById('email').value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email || !emailRegex.test(email)) {
                const errorEl = document.getElementById('emailError');
                errorEl.textContent = translations[currentLanguage]['error_email'];
                errorEl.style.display = 'block';
                isValid = false;
            }
           
            
            // Validate attendance
            const attending = document.querySelector('input[name="attending"]:checked');
            if (!attending) {
                const errorEl = document.getElementById('attendingError');
                errorEl.textContent = translations[currentLanguage]['error_attendance'];
                errorEl.style.display = 'block';
                isValid = false;
            }
			// Validate attendance +1
            const attending_1 = document.querySelector('input[name="attending_1"]:checked');
            if (!attending) {
                const errorEl = document.getElementById('attendingError');
                errorEl.textContent = translations[currentLanguage]['error_attendance'];
                errorEl.style.display = 'block';
                isValid = false;
            }
            
            if (isValid) {
                // Prepare form data for EmailJS
                const formData = {
                    guest_name: guestName,
                    email: email,
                    attending: attending.value,
					attending_1: attending_1.value,
                    dietary: document.getElementById('dietary').value || (currentLanguage === 'pl' ? 'Brak' : 'None'),
                    message: document.getElementById('message').value || (currentLanguage === 'pl' ? 'Brak wiadomości' : 'No message'),
                    language: currentLanguage === 'pl' ? 'Polish' : 'English'
                };
                
                // Send email using EmailJS
                // Note: Replace the service and template IDs with your actual IDs
                emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, formData)
                    .then(function(response) {
                        console.log('SUCCESS!', response.status, response.text);
                        document.getElementById('successMessage').style.display = 'block';
                        document.getElementById('rsvpForm').reset();
                        
                        // Scroll to success message
                        document.getElementById('successMessage').scrollIntoView({
                            behavior: 'smooth',
                            block: 'center'
                        });
                    }, function(error) {
                        console.log('FAILED...', error);
                        alert('ENG: RVSP can be sent only received official wedding invitation. PL: Potwierdzenie może zostać wysłane tylko po otrzymaniu właściwego kodu zaproszenia. ');
                    });
            }
        });

        // Smooth scroll for navigation links
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            });
        });

// Wedding Bingo Game Logic
const bingoEvents = {
  en: [
    "First Dance", "Bouquet Toss", "Garter Toss", "Cake Cutting", "Toast Speech",
    "Happy Tears", "Dance Floor Selfie", "Kids Dancing", "Couple Kiss", "Group Photo",
    "Champagne Pop", "Best Man Speech", "Maid of Honor Speech", "Father-Daughter Dance",
    "Mother-Son Dance", "Crazy Dance Move", "Guest Singing", "Ring Exchange View",
    "Flower Girl/Boy", "DJ Playing Request", "Someone Crying", "Awkward Moment",
    "Photobomb", "Empty Dance Floor", "Full Dance Floor"
  ],
  pl: [
    "Pierwszy Taniec", "Rzut Bukietem", "Podwiązka", "Krojenie Tortu", "Toast",
    "Wzruszające Łzy", "Selfie na Parkiecie", "Dzieci Tańczą", "Pocałunek Pary", "Zdjęcie Grupowe",
    "Szampan", "Przemowa Świadka", "Przemowa Druhny", "Taniec Ojca z Córką",
    "Taniec Matki z Synem", "Szalony Krok Taneczny", "Gość Śpiewa", "Wymiana Obrączek",
    "Dziewczynka/Chłopiec z Kwiatami", "DJ Gra na Życzenie", "Ktoś Płacze", "Niezręczny Moment",
    "Fotobomba", "Pusty Parkiet", "Pełny Parkiet"
  ]
};

let bingoCard = [];
let markedCells = new Set();

function generateBingoCard(lang = 'en') {
  const events = [...bingoEvents[lang]];
  const card = [];

  // Shuffle events
  for (let i = events.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [events[i], events[j]] = [events[j], events[i]];
  }

  // Take first 24 events (25th will be FREE space)
  for (let i = 0; i < 25; i++) {
    if (i === 12) {
      card.push({ text: lang === 'en' ? 'START' : 'START', isFree: true });
    } else {
      card.push({ text: events[i < 12 ? i : i - 1], isFree: false });
    }
  }

  return card;
}

function renderBingoCard() {
  const cardElement = document.getElementById('bingoCard');
  cardElement.innerHTML = '';

  bingoCard.forEach((cell, index) => {
    const cellDiv = document.createElement('div');
    cellDiv.className = 'bingo-cell';
    cellDiv.textContent = cell.text;
    cellDiv.dataset.index = index;

    // ⭐ DYNAMICZNY FONT SIZE na podstawie długości tekstu
    const textLength = cell.text.length;
    if (textLength > 25) {
      cellDiv.style.fontSize = '0.6rem';  // Bardzo długie teksty
      cellDiv.style.lineHeight = '1.1';
    } else if (textLength > 18) {
      cellDiv.style.fontSize = '0.7rem';  // Długie teksty
      cellDiv.style.lineHeight = '1.2';
    } else if (textLength > 12) {
      cellDiv.style.fontSize = '0.75rem'; // Średnie teksty
    } else {
      cellDiv.style.fontSize = '0.85rem'; // Krótkie teksty
    }
	
    if (cell.isFree) {
      cellDiv.classList.add('free', 'marked');
      markedCells.add(index);
    }

    if (markedCells.has(index)) {
      cellDiv.classList.add('marked');
    }

    if (!cell.isFree) {
      cellDiv.addEventListener('click', () => toggleCell(index));
    }

    cardElement.appendChild(cellDiv);
  });
}

function toggleCell(index) {
  if (markedCells.has(index)) {
    markedCells.delete(index);
  } else {
    markedCells.add(index);
  }

  renderBingoCard();
  checkWin();
}

function checkWin() {
  const winPatterns = [
    // Rows
    [0,1,2,3,4], [5,6,7,8,9], [10,11,12,13,14], [15,16,17,18,19], [20,21,22,23,24],
    // Columns
    [0,5,10,15,20], [1,6,11,16,21], [2,7,12,17,22], [3,8,13,18,23], [4,9,14,19,24],
    // Diagonals
    [0,6,12,18,24], [4,8,12,16,20]
  ];

  for (const pattern of winPatterns) {
    if (pattern.every(index => markedCells.has(index))) {
      showWinModal();
      return;
    }
  }
}

function showWinModal() {
  // Usuń stary modal jeśli istnieje
  const oldModal = document.getElementById('bingoWinModal');
  if (oldModal) oldModal.remove();
  
  // Pobierz tłumaczenia dla aktualnego języka
  const congratsText = translations[currentLanguage]?.bingocongrats || '🎉 BINGO! 🎉';
  const messageText = translations[currentLanguage]?.bingowinnermessage || '';
  const closeText = translations[currentLanguage]?.bingoclose || 'Close/Zamknij';
  
  // Stwórz nowy modal dynamicznie
  const modal = document.createElement('div');
  modal.id = 'bingoWinModal';
  modal.style.cssText = `
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    background: rgba(0,0,0,0.8) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 99999 !important;
  `;
  
  modal.innerHTML = `
    <div style="background: white; padding: 50px 40px; border-radius: 20px; text-align: center; max-width: 500px; box-shadow: 0 10px 50px rgba(212,175,55,0.5); animation: bounceIn 0.6s;">
      <h2 style="font-size: 2.5rem; color: #d4af37; margin-bottom: 20px; animation: pulse 1s infinite;">${congratsText}</h2>
      <p style="margin-bottom: 30px; font-size: 1.2rem;">${messageText}</p>
      <button onclick="document.getElementById('bingoWinModal').remove()" style="background: linear-gradient(135deg, #d4af37, #e6c965); color: white; padding: 12px 30px; border: none; border-radius: 25px; font-size: 1rem; font-weight: 600; cursor: pointer;">${closeText}</button>
    </div>
  `;
  
  document.body.appendChild(modal);
  createConfetti();
}


function createConfetti() {
  const colors = ['#d4af37', '#f7e7e1', '#ffb3c1', '#e8c5a0'];
  for (let i = 0; i < 50; i++) {
    setTimeout(() => {
      const confetti = document.createElement('div');
      confetti.style.position = 'fixed';
      confetti.style.width = '10px';
      confetti.style.height = '10px';
      confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.left = Math.random() * 100 + 'vw';
      confetti.style.top = '-10px';
      confetti.style.opacity = '1';
      confetti.style.zIndex = '99999';
      confetti.style.borderRadius = '50%';
      document.body.appendChild(confetti);

      let pos = -10;
      const fall = setInterval(() => {
        pos += 5;
        confetti.style.top = pos + 'px';
        confetti.style.opacity = 1 - (pos / window.innerHeight);
        if (pos > window.innerHeight) {
          clearInterval(fall);
          confetti.remove();
        }
      }, 20);
    }, i * 30);
  }
}
// =================== CLOUDINARY KONFIGURACJA ===================
const CLOUDINARY_CONFIG = {
  cloudName: 'dyz8kvmfn', // Wklej swój cloud name tutaj
  uploadPreset: 'wedding_photos' // Nazwa preset z kroku 3
};

// =================== NOWA FUNKCJA PHOTO UPLOAD ===================
function initPhotoUpload() {
  const uploadWidget = cloudinary.createUploadWidget({
    cloudName: CLOUDINARY_CONFIG.cloudName,
    uploadPreset: CLOUDINARY_CONFIG.uploadPreset,
    folder: 'wedding_bingo',
    sources: ['local', 'camera'],
    multiple: false,
    cropping: true,
    croppingAspectRatio: 1,
    resourceType: 'image',
    clientAllowedFormats: ['jpg', 'jpeg', 'png', 'gif'],
    maxFileSize: 10000000, // 10MB
    theme: 'minimal',
    styles: {
      palette: {
        window: "#FFFFFF",
        sourceBg: "#F8F4F0",
        windowBorder: "#D4AF37",
        tabIcon: "#D4AF37",
        inactiveTabIcon: "#A0A0A0",
        menuIcons: "#D4AF37",
        link: "#D4AF37",
        action: "#D4AF37",
        inProgress: "#E8C5A0",
        complete: "#55A855",
        error: "#CC5555",
        textDark: "#5A5A5A",
        textLight: "#FFFFFF"
      }
    }
  }, (error, result) => {
    if (!error && result && result.event === "success") {
      console.log('✅ Upload successful:', result.info.secure_url);
      addPhotoToGallery(result.info.secure_url, result.info.public_id);
    }
    if (error) {
      console.error('❌ Upload failed:', error);
    }
  });

  // Podłącz do przycisku upload
  document.getElementById('photoUpload').addEventListener('click', () => {
    uploadWidget.open();
  });
}

// =================== DODAWANIE ZDJĘĆ DO GALERII ===================
function addPhotoToGallery(imageUrl, publicId) {
  const gallery = document.getElementById('photoGallery');
  const photoDiv = document.createElement('div');
  photoDiv.className = 'gallery-photo';
  photoDiv.innerHTML = `
    <img src="${imageUrl}" alt="Wedding moment" loading="lazy">
    <div class="photo-overlay">
      <span class="photo-time">${new Date().toLocaleTimeString()}</span>
    </div>
  `;
  gallery.appendChild(photoDiv);
  
  // Smooth scroll do nowego zdjęcia
  photoDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

// =================== ZAŁADUJ ISTNIEJĄCE ZDJĘCIA ===================
async function loadExistingPhotos() {
  try {
    const response = await fetch(`https://res.cloudinary.com/${CLOUDINARY_CONFIG.cloudName}/image/list/wedding_bingo.json`);
    const data = await response.json();
    
    data.resources?.forEach(photo => {
      const imageUrl = `https://res.cloudinary.com/${CLOUDINARY_CONFIG.cloudName}/image/upload/c_fill,w_300,h_300/${photo.public_id}.jpg`;
      addPhotoToGallery(imageUrl, photo.public_id);
    });
  } catch (error) {
    console.log('📷 No existing photos found or error loading:', error);
  }
}
// Initialize Bingo
function initBingo() {
  const lang = currentLanguage || 'en';
  bingoCard = generateBingoCard(lang);
  markedCells = new Set([12]); // Free space
  renderBingoCard();
  displayPhotos();

  // Event listeners
  document.getElementById('resetBingo').addEventListener('click', () => {
    markedCells = new Set([12]);
    renderBingoCard();
  });

  document.getElementById('newBingo').addEventListener('click', () => {
    bingoCard = generateBingoCard(lang);
    markedCells = new Set([12]);
    renderBingoCard();
  });

  document.getElementById('closeBingoWin').addEventListener('click', () => {
    document.getElementById('bingoWinModal').style.display = 'none';
  });

  document.getElementById('photoUpload').addEventListener('change', handlePhotoUpload);
}
function refreshBingo(lang) {
  const currentMarked = new Set(markedCells); // Zachowaj zaznaczenia
  bingoCard = generateBingoCard(lang);
  markedCells = currentMarked;
  renderBingoCard();
}
// Add to existing translation object
if (typeof translations !== 'undefined') {
  translations.en.nav_bingo = "Wedding Bingo";
  translations.en.bingo_title = "Wedding Bingo Challenge";
  translations.en.bingo_subtitle = "Capture moments, mark your card, and share memories";
  translations.en.bingo_how_to_play = "How to Play";
  translations.en.bingo_rule_1 = "Mark squares when you witness or complete the event";
  translations.en.bingo_rule_2 = "Get 5 in a row (horizontal, vertical, or diagonal) to win!";
  translations.en.bingo_rule_3 = "Optional: Take photos to prove your Bingo and share memories";
  translations.en.bingo_reset = "Reset Card";
  translations.en.bingo_new_card = "New Card";
  translations.en.bingo_congrats = "🎉 BINGO! 🎉";
  translations.en.bingo_winner_message = "Congratulations! Show this to the newlyweds!";
  translations.en.bingo_close = "Close";
  translations.en.bingo_gallery_title = "Photo Gallery";
  translations.en.bingo_gallery_subtitle = "Upload photos of your Bingo moments!";
  translations.en.bingo_upload_photo = "📸 Upload Photo";

  translations.pl.nav_bingo = "Weselne Bingo";
  translations.pl.bingo_title = "Wyzwanie Weselnego Bingo";
  translations.pl.bingo_subtitle = "Uchwytuj momenty, zaznaczaj kartę i buduj wspomnienia";
  translations.pl.bingo_how_to_play = "Jak Grać";
  translations.pl.bingo_rule_1 = "Zaznaczaj pola gdy jesteś świadkiem lub wykonujesz zadanie";
  translations.pl.bingo_rule_2 = "Ułóż 5 w linii (poziomo, pionowo lub ukośnie) aby wygrać!";
  translations.pl.bingo_rule_3 = "Opcjonalnie: Rób zdjęcia jako dowód Bingo i dziel się wspomnieniami";
  translations.pl.bingo_reset = "Resetuj Kartę";
  translations.pl.bingo_new_card = "Nowa Karta";
  translations.pl.bingo_congrats = "🎉 BINGO! 🎉";
  translations.pl.bingo_winner_message = "Gratulacje! Pokaż to młodej parze!";
  translations.pl.bingo_close = "Zamknij";
  translations.pl.bingo_gallery_title = "Galeria Zdjęć";
  translations.pl.bingo_gallery_subtitle = "Dodaj zdjęcia swoich momentów Bingo!";
  translations.pl.bingo_upload_photo = "📸 Dodaj Zdjęcie";
}

// Initialize when page loads (after code validation)
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initBingo);
} else {
  initBingo();
}

		const validCodes = [
		  "MARTA", // use real codes!
		];
		// =================== INICJALIZACJA CLOUDINARY ===================
document.addEventListener('DOMContentLoaded', function() {
  if (typeof cloudinary !== 'undefined') {
    initPhotoUpload();
    loadExistingPhotos();
  } else {
    console.error('Cloudinary widget not loaded');
  }
});
    </script>
</body>
</html>
